import{jsx as y,jsxs as G}from"react/jsx-runtime";import{useContext as M,useRef as L,useCallback as F,startTransition as T,useState as z,useEffect as j}from"react";import{u as E,F as D,P as I,a as $}from"../../@lazarv/react-server.Cvk6HU20.mjs";function W({target:e,root:r,local:s,transition:i,push:a,replace:n,rollback:v=!1,noCache:p,revalidate:o,onNavigate:t,onError:b,onSubmit:g,children:h,...x}){const{navigate:w}=E(),{outlet:d}=M(D),m=L(null),O=F(async()=>{try{const c=new URL(m.current.action,window.location.origin),N=new FormData(m.current);for(const[f,R]of N.entries())c.searchParams.set(f,R);const A=c.toString();await w(A,{outlet:e||(s?d:r?"PAGE_ROOT":void 0),push:(n?!1:a)??(e&&e===d),replace:n,rollback:v,noCache:p,revalidate:o}),t?.()}catch(c){b?.(c)}},[m,e,d,r,s,a,n,v,p,o]),l=F(async c=>{c.preventDefault(),g?.(c),i!==!1?T(O):O()},[i,g,O]);return y("form",{...x,ref:m,onSubmit:l,children:h})}function B({to:e,target:r,root:s,local:i,transition:a,push:n,replace:v,prefetch:p,ttl:o=1/0,revalidate:t,rollback:b=!1,noCache:g,fallback:h,Component:x,onNavigate:w,onError:d,onClick:m,onFocus:O,onMouseOver:l,onTouchStart:c,children:N,...A}){const{prefetch:f,navigate:R}=E(),{outlet:C}=M(D),P=F(async()=>{try{await R(e,{outlet:r||(i?C:s?"PAGE_ROOT":void 0),push:(v?!1:n)??(r&&r===C||!r&&C==="PAGE_ROOT"),replace:v,rollback:b,revalidate:t,noCache:g,fallback:h,Component:x}),w?.()}catch(u){d?.(u)}},[e,r,i,C,s,n,v,b,g,t,h,x,w,d]),_=F(async u=>{u.preventDefault(),m?.(u),a!==!1&&!h?T(P):P()},[a,h,m,P]),S=u=>()=>{u?.(),p===!0&&f(e,{outlet:r||(i?C:s?"PAGE_ROOT":void 0),ttl:o,noCache:g,revalidate:t})};return y("a",{...A,href:e,onClick:_,onFocus:S(O),onMouseOver:S(l),onTouchStart:S(c),children:N})}function H({remote:e=!1,defer:r=!1,request:s,children:i}){const{url:a,outlet:n}=M(D),v=E(),{registerOutlet:p,subscribe:o,getFlightResponse:t,abort:b}=v,[{resourceKey:g,error:h,Component:x},w]=z({resourceKey:0,error:null,Component:i||(n===I||e?t?.(a,{outlet:n,remote:e,defer:r,request:s}):null)}),d=L(null),m=L(null),O=L(x);if(j(()=>{let l=!0;const c=p(n,a),N=o(n||a,async(A,f,R)=>{if(typeof f.Component<"u"){const u=new DOMException("render","AbortError");b(n,u),m.current?.reject(u),w(K=>({...K,resourceKey:K.resourceKey+1,error:d.current,Component:f.Component})),R(null,f.Component);return}let C,P;const _=new Promise((u,K)=>{C=u,P=K,m.current={resolve:u,reject:K}}),S=t(A,{...f,outlet:n,remote:e,request:s,onReady:f.callServer?void 0:C,onAbort:f.callServer?void 0:P});if(f.callServer)R(null,S);else if(l){f.fallback&&T(()=>{w(u=>({...u,resourceKey:u.resourceKey+1,error:d.current,Component:f.fallback}))});try{const u=await _;m.current=null,T(()=>{w(K=>({...K,resourceKey:K.resourceKey+1,error:d.current,Component:u})),R(null,u)})}catch{m.current=null}}});return()=>{l=!1,c(),N()}},[a,n,e,s,o,t]),j(()=>{(i||n!==I&&x)&&w(l=>({...l,resourceKey:l.resourceKey+1,error:d.current,Component:i}))},[i]),j(()=>{(e||r)&&t(a,{outlet:n,remote:e,defer:r,request:s,fromScript:!r,onReady:l=>{l&&T(()=>w(c=>({...c,resourceKey:c.resourceKey+1,error:d.current,Component:l})))}})},[a,n,e,r,s,t]),j(()=>{const l=new AbortController;return window.addEventListener(`__react_server_flight_error_${n}__`,c=>{d.current=c.detail.error},{signal:l.signal}),()=>l.abort()},[n]),h){if(n===I)return y($.Provider,{value:{resourceKey:g,error:h},children:O.current});throw h}return O.current=x,y($.Provider,{value:{resourceKey:g,error:h},children:x})}function X({url:e,outlet:r=null,remote:s,defer:i,request:a,children:n}){const{navigate:v,abort:p}=E();return y(D.Provider,{value:{url:e,outlet:r,refresh(o={}){return refresh(r,o)},prefetch(o,t={}){return prefetch(o,{outlet:r,...t})},navigate(o,t={}){return v(o,{outlet:r,...t})},replace(o,t={}){return replace(o,{outlet:r,...t})},abort(o){return p(r,o)}},children:y(H,{remote:s,defer:i,request:a,children:n})})}function Y({url:e,target:r,local:s,root:i,transition:a,prefetch:n,ttl:v=1/0,revalidate:p,noCache:o,fallback:t,Component:b,onRefresh:g,onError:h,onClick:x,onFocus:w,onMouseOver:d,onTouchStart:m,children:O,...l}){const{refresh:c,prefetch:N}=E(),{url:A,outlet:f}=M(D),R=F(async()=>{try{await c(r||e||(s?f||A:i?"PAGE_ROOT":void 0),{noCache:o,fallback:t,Component:b,revalidate:p}),g?.()}catch(_){h?.(_)}},[c,r,s,i,e,f,A,p,o,t,b,g,h]),C=F(async _=>{_.preventDefault(),x?.(_),a!==!1&&!t?T(R):R()},[a,t,x,R]),P=_=>()=>{_?.(),n===!0&&N(e||A,{outlet:r||(s?f:i?"PAGE_ROOT":void 0),ttl:v,noCache:o,revalidate:p})};return y("a",{...l,href:e,onClick:C,onFocus:P(w),onMouseOver:P(d),onTouchStart:P(m),children:O})}const U=(e,r)=>e.length<=r?e:e.slice(0,r)+"...",Z=({article:e})=>{const r=U(e.title,45),s=U(e.description,100);return y(B,{to:`/articles/${e.id}`,children:G("div",{className:`\r
          border\r
          border-gray-300\r
          rounded-lg overflow-hidden\r
          hover:bg-gray-50\r
          hover:shadow-xl\r
          transition duration-300\r
          cursor-pointer\r
          w-full h-[280px]\r
          mb-4`,children:[y("div",{className:"h-2 bg-orange-300"}),G("div",{className:"p-6 h-[calc(280px-8px)] flex flex-col",children:[y("h3",{className:"text-xl font-bold text-orange-950 mb-2 line-clamp-2",children:r}),y("p",{className:"text-gray-600 mb-2 line-clamp-4 flex-grow",children:s}),G("div",{className:"flex items-center mt-auto",children:[y("div",{className:"w-8 h-8 flex rounded-full bg-teal-100 items-center justify-center font-medium mr-3",children:e.author.charAt(0)}),G("div",{children:[y("div",{className:"font-medium",children:e.author}),y("div",{className:"text-gray-500",children:new Date(e.createdAt).toLocaleString()})]})]})]})]})})};export{Z as A,W as F,B as L,X as R,Y as a,U as t};
